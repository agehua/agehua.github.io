<!DOCTYPE html>
<html lang=en>
<head>
    <meta name="google-site-verification" content="TYEtqE2Xc2ZonkJumwKut0-iq4RVbEc8o5Y8HpmZ-eo" />
    <meta name="baidu-site-verification" content="8WKGBCPPKp" />
    <meta charset="utf-8">
    
    <title>Android面试题积累 | Agehua</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="1、Activity面试题1、Activity是什么Activity是四大组件之一，它提供一个界面让用户点击和各种滑动操作，这就是Activity 2、Activity四种状态runingpausedstoppedkilled 3、Activity生命周期onCreate()onStart()">
<meta name="keywords" content="Basic Knowledge, Interview">
<meta property="og:type" content="article">
<meta property="og:title" content="Android面试题积累">
<meta property="og:url" content="http://agehua.github.io/2017/08/17/IntervieweeQuestions/index.html">
<meta property="og:site_name" content="Agehua">
<meta property="og:description" content="1、Activity面试题1、Activity是什么Activity是四大组件之一，它提供一个界面让用户点击和各种滑动操作，这就是Activity 2、Activity四种状态runingpausedstoppedkilled 3、Activity生命周期onCreate()onStart()">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://cdn.conorlee.top/Daubigny%20s%20Garden%202.jpg">
<meta property="og:updated_time" content="2020-09-01T07:45:18.908Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android面试题积累">
<meta name="twitter:description" content="1、Activity面试题1、Activity是什么Activity是四大组件之一，它提供一个界面让用户点击和各种滑动操作，这就是Activity 2、Activity四种状态runingpausedstoppedkilled 3、Activity生命周期onCreate()onStart()">
<meta name="twitter:image" content="http://cdn.conorlee.top/Daubigny%20s%20Garden%202.jpg">
    

    
        <link rel="alternate" href="/" title="Agehua" type="application/atom+xml" />
    

    
        <link rel="icon" href="/images/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    




    <link rel="icon" sizes="192x192" href="images/icon.png">
    <meta name="theme-color" content="#f9de6b">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-39647668-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-39647668-2');
    </script>
    <!--text spacing-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/3.3.0/pangu.min.js"></script>

</head>



<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Agehua</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                

                <a class="main-nav-link" href='javascript:(
        /*
         * Copyright (C) 2015 Rocko (rocko.xyz) <rocko.zxp@gmail.com>
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *      http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
        function go() {


        var songs = [
                    "https://static.rocko.xyz/audio/Music-Wake-Live.mp3",
                    "https://static.rocko.xyz/audio/Music-Fashion_Show.mp3",
                    "https://static.rocko.xyz/audio/Music-outside.mp3",
                    "https://static.rocko.xyz/audio/Music-sunburst.mp3"
        ];


        function c() {
            var e = document.createElement("link");
            e.setAttribute("type", "text/css");
            e.setAttribute("rel", "stylesheet");
            e.setAttribute("href", f);
            e.setAttribute("class", l);
            document.body.appendChild(e)
        }

        function h() {
            var e = document.getElementsByClassName(l);
            for (var t = 0; t < e.length; t++) {
                document.body.removeChild(e[t])
            }
        }

        function p() {
            var e = document.createElement("div");
            e.setAttribute("class", a);
            document.body.appendChild(e);
            setTimeout(function() {
                document.body.removeChild(e)
            }, 100)
        }

        function d(e) {
            return {
                height : e.offsetHeight,
                width : e.offsetWidth
            }
        }

        function v(i) {
            var s = d(i);
            return s.height > e && s.height < n && s.width > t && s.width < r
        }

        function m(e) {
            var t = e;
            var n = 0;
            while (!!t) {
                n += t.offsetTop;
                t = t.offsetParent
            }
            return n
        }

        function g() {
            var e = document.documentElement;
            if (!!window.innerWidth) {
                return window.innerHeight
            } else if (e && !isNaN(e.clientHeight)) {
                return e.clientHeight
            }
            return 0
        }

        function y() {
            if (window.pageYOffset) {
                return window.pageYOffset
            }
            return Math.max(document.documentElement.scrollTop, document.body.scrollTop)
        }

        function E(e) {
            var t = m(e);
            return t >= w && t <= b + w
        }

        function S() {
            var e = document.getElementById("audio_element_id");
            if(e != null){
                var index = parseInt(e.getAttribute("curSongIndex"));
                if(index > songs.length - 2) {
                    index = 0;
                } else {
                    index++;
                }
                e.setAttribute("curSongIndex", index);
                N();
            }

            e.src = i;
            e.play()
        }

        function x(e) {
            e.className += " " + s + " " + o
        }

        function T(e) {
            e.className += " " + s + " " + u[Math.floor(Math.random() * u.length)]
        }

        function N() {
            var e = document.getElementsByClassName(s);
            var t = new RegExp("\\b" + s + "\\b");
            for (var n = 0; n < e.length; ) {
                e[n].className = e[n].className.replace(t, "")
            }
        }

        function initAudioEle() {
            var e = document.getElementById("audio_element_id");
            if(e === null){
                e = document.createElement("audio");
                e.setAttribute("class", l);
                e.setAttribute("curSongIndex", 0);
                e.id = "audio_element_id";
                e.loop = false;
                e.bgcolor = 0;
                e.addEventListener("canplay", function() {
                setTimeout(function() {
                    x(k)
                }, 500);
                setTimeout(function() {
                    N();
                    p();
                    for (var e = 0; e < O.length; e++) {
                        T(O[e])
                    }
                }, 15500)
            }, true);
            e.addEventListener("ended", function() {
                N();
                h();
                go();
            }, true);
            e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
            document.body.appendChild(e);
            }
        }

        initAudioEle();
        var e = 30;
        var t = 30;
        var n = 350;
        var r = 350;

        var curSongIndex = parseInt(document.getElementById("audio_element_id").getAttribute("curSongIndex"));
        var i = songs[curSongIndex];

        var s = "mw-harlem_shake_me";
        var o = "im_first";
        var u = ["im_drunk", "im_baked", "im_trippin", "im_blown"];
        var a = "mw-strobe_light";

        /* harlem-shake-style.css，替换成你的位置，也可以直接使用：//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css */
        var f = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css";

        var l = "mw_added_css";
        var b = g();
        var w = y();
        var C = document.getElementsByTagName("*");
        var k = null;
        for (var L = 0; L < C.length; L++) {
            var A = C[L];
            if (v(A)) {
                if (E(A)) {
                    k = A;
                    break
                }
            }
        }
        if (A === null) {
            console.warn("Could not find a node of the right size. Please try a different page.");
            return
        }
        c();
        S();
        var O = [];
        for (var L = 0; L < C.length; L++) {
            var A = C[L];
            if (v(A)) {
                O.push(A)
            }
        }
        })()'>High一下</a>
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="http://cdn.conorlee.top/profile.jpeg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            

            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>


        </div>
    </div>


    <div id="main-nav-mobile" class="header-sub header-inner">

        <table class="menu outer">


            <tr>
                
                    <td><a class="main-nav-link" href="/">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>

    
</header>

        <div class="outer">
            
                


<aside id="profile">
    <div class="inner profile-inner" id="profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="http://cdn.conorlee.top/profile.jpeg" />
            <h2 id="name">Conor Lee</h2>
            <h3 id="title">Android Developer &amp; Web Enthusiast</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Beijing, China</span>
            <a id="follow" target="_blank" href="https://github.com/agehua/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                76
                <span>posts</span>
            </div>
            <div class="article-info-block">
                90
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/agehua" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        

        <a href="https://github.com/agehua" class="github-corner" aria-label="View source on Github">
          <svg width="64" height="64" viewBox="0 0 250 250" style="fill:#cba11f; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
          </svg>
        </a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    </div>

<div id='toc-col' class="toc-col">
    
</div>
</aside>

<script type="text/javascript">
/*
    滚动函数
    接收三个参数,
        1 接收一个DOM对象
        2 给目标对象切换class
        3 触发的高度 (可选项,如果不指定高度,会将DOM的高度作为触发高度)
*/
function scrollCheck(scrollTarget, toggleClass, scrollHeight){
    document.addEventListener('scroll',function(){
    var currentTop = window.pageYOffset;
        currentTop > (scrollHeight||scrollTarget.clientHeight)
        ?scrollTarget.classList.add(toggleClass)
        :scrollTarget.classList.remove(toggleClass)
    })
}

(function(){
      try {
        document.getElementById("toc-wrap").style.width= document.getElementById("profile-inner").offsetWidth+ "px";
        var introHeader = document.querySelector('.inner.profile-inner').offsetHeight;
        var toc = document.querySelector('.toc-wrap');
        scrollCheck(toc,'toc-fixed',introHeader+40+64);
      }catch(err){

      }
        // var node = document.querySelector('.profile-inner');
        // scrollCheck(node,'profile-inner-fixed',64);
})();
</script>

            
            <section id="main"><article id="post-IntervieweeQuestions" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<img src="http://cdn.conorlee.top/Daubigny%20s%20Garden%202.jpg" class="article-banner" />
	



        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Android面试题积累
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/08/17/IntervieweeQuestions/">
            <time datetime="2017-08-16T16:00:00.000Z" itemprop="datePublished">2017-08-17</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/accumulation/">accumulation</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/android/">ANDROID</a>, <a class="tag-link" href="/tags/interview-knowledge/">Interview Knowledge</a>
    </div>


                        <div style="color:#cba11f;float:right">7 min read , Words: 1241</div>                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        

            <h3 id="1、Activity面试题"><a href="#1、Activity面试题" class="headerlink" title="1、Activity面试题"></a>1、Activity面试题</h3><p>1、Activity是什么<br>Activity是四大组件之一，它提供一个界面让用户点击和各种滑动操作，这就是Activity</p>
<p>2、Activity四种状态<br>runing<br>paused<br>stopped<br>killed</p>
<p>3、Activity生命周期<br>onCreate()<br>onStart()<br><a id="more"></a><br>onResume()<br>onPause()<br>onStop()<br>onDestroy()<br>onRestart()</p>
<p>4、进程的优先级<br>空进程<br>后台进程<br>服务进程<br>可见进程<br>前台进程</p>
<p>5、Activity任务栈<br>先进后出</p>
<p>6、Activity启动模式<br>standard<br>singletop<br>singletask: 能够保证Activity A在栈中只有一个实例，这个栈也允许存在其他的实例.</p>
<blockquote>
<p>特别需要注意的是使用startActivityForResult方法的时候，根据startActivityForResult的api说明: if the activity you are launching uses the singleTask launch mode, it will not run in your task and thus you will immediately receive a cancel result<br>意思就是使用startActivityForResult方法启动一个singleTask模式的Activity，该Activity不会在原来的任务栈中启动，因此会立即收到一个RESULT_CANCELED结果</p>
</blockquote>
<p>singleinstance: singleInstance要求activity的实例不仅只有一个，并且整个task中只有一个activity实例，而singleTask所在的栈中允许存在其他activity的实例。</p>
<blockquote>
<p>singleInstance的activity也具有上面的特性，此外，activity设置了singleInstance，那么无论被启动的activity有没有设置singleInstance，都无法获取返回值</p>
</blockquote>
<p>7、scheme跳转协议<br>Android中的scheme是一种页面内跳转协议，通过定义自己的scheme协议，可以跳转到app中的各个页面<br>服务器可以定制化告诉app跳转哪个页面<br>App可以通过跳转到另一个App页面<br>可以通过H5页面跳转页面（DeepLink）：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;a href=&quot;[scheme]://[host]/[path]?[query]&quot;&gt;启动应用程序&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;intent-filter&gt;</span><br><span class="line">    &lt;data android:scheme=<span class="string">"http"</span> /&gt;</span><br><span class="line">    &lt;!-- or you can use deep linking like  --&gt;</span><br><span class="line">    &lt;data android:scheme=<span class="string">"http"</span> android:host=<span class="string">"xyz.abc.com"</span>/&gt;</span><br><span class="line">    &lt;action android:name=<span class="string">"android.intent.action.VIEW"</span>/&gt;</span><br><span class="line">    &lt;category android:name=<span class="string">"android.intent.category.BROWSABLE"</span>/&gt;</span><br><span class="line">    &lt;category android:name=<span class="string">"android.intent.category.DEFAULT"</span>/&gt;</span><br><span class="line">&lt;/intent-filter&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2、Fragment面试题"><a href="#2、Fragment面试题" class="headerlink" title="2、Fragment面试题"></a>2、Fragment面试题</h3><p>1、Fragment为什么被称为第五大组件<br>Fragment比Activity更节省内存，其切换模式也更加舒适，使用频率不低于四大组件，且有自己的生命周期，而且必须依附于Activity</p>
<p>2、Activity创建Fragment的方式<br>静态创建：在activity布局文件里声明fragment，<br>activity_main.xml中声明：</p>
<fragment android:name="com.example.myfragment.MyFragment" android:id="@+id/myfragment_1" android:layout_width="wrap_content" android:layout_height="wrap_content">

<p>动态创建：通过java代码将fragment添加到已存的ViewGroup中<br>fragment = new MyFragment();<br>fragmentStack.push(fragment);<br>transaction = manager.beginTransaction();<br>transaction.add(R.id.fragments, fragment);<br>transaction.commit();</p>
<p>3、FragmentPageAdapter和FragmentPageStateAdapter的区别<br>FragmentPageAdapter在每次切换页面的的时候，是将Fragment进行分离，适合页面较少的Fragment使用以保存一些内存，对系统内存不会多大影响<br>FragmentPageStateAdapter在每次切换页面的时候，是将Fragment进行回收，适合页面较多的Fragment使用，这样就不会消耗更多的内存</p>
<p>4、Fragment生命周期<br>onAttach()<br>onCreate()<br>onCreateView()<br>onActivityCreated()<br>onStart()<br>onResume()<br>onPause()<br>onStop()<br>onDestroyView()<br>onDestroy()<br>onDetach()</p>
<p>5、Fragment的通信<br>Fragment调用Activity中的方法：getActivity<br>Activity调用Fragment中的方法：接口回调<br>Fragment调用Fragment中的方法：FragmentManager.findFragmentById</p>
<p>6、Fragment的replace、add、remove方法<br>replace：替代Fragment的栈顶页面<br>add：添加Fragment到栈顶页面<br>remove：移除Fragment栈顶页面</p>
<h3 id="3、Service面试题"><a href="#3、Service面试题" class="headerlink" title="3、Service面试题"></a>3、Service面试题</h3><p>1、Service是什么<br>Service是四大组件之一，它可以在后台执行长时间运行操作而没有用户界面的应用组件</p>
<p>2、Service和Thread的区别<br>Service是安卓中系统的组件，它运行在独立进程的主线程中，不可以执行耗时操作，超时会有ANR异常。Thread是程序执行的最小单元，分配CPU的基本单位，可以开启子线程执行耗时操作<br>Service在不同Activity中可以获取自身实例，可以方便的对Service进行操作。Thread在不同的Activity中难以获取自身实例，如果Activity被销毁，Thread实例就很难再获取得到</p>
<p>3、Service启动方式<br>startService<br>bindService</p>
<p>4、Service生命周期<br>startService：<br>onCreate()<br>onStartCommand(Intent intent, int flags, int startId)<br>onDestroy()</p>
<blockquote>
<p>重点介绍下，onStartCommand()方法，先看下官方doc里的介绍：<br>Added in API level 5<br>Called by the system every time a client explicitly starts the service by calling startService(Intent), providing the arguments it supplied and a unique integer token representing the start request. Do not call this method directly.<br>参数：<br>intent: The Intent supplied to startService(Intent), as given. This may be null if the service is being restarted after its process has gone away, and it had previously returned anything except START_STICKY_COMPATIBILITY.<br>flags: Additional data about this start request. Currently either 0, START_FLAG_REDELIVERY, or START_FLAG_RETRY.<br>startId: A unique integer representing this specific request to start. Use with stopSelfResult(int).<br>返回值：<br>The return value indicates what semantics the system should use for the service’s current started state. It may be one of the constants associated with the START_CONTINUATION_MASK bits.<br>总结如下，onStartCommand()是当一个service调用startService()之后由系统调用的，开发者不用直接调用这个方法，但是可以重写这个方法。<br>方法的返回值有四个int值，分别是：START_STICKY, START_NOT_STICKY, START_REDELIVER_INTENT, or START_STICKY_COMPATIBILITY.</p>
</blockquote>
<p>bindService：<br>onCreate()<br>onBind()<br>onUnbind()<br>onDestroy()</p>
<h3 id="4、Broadcast-Receiver面试题"><a href="#4、Broadcast-Receiver面试题" class="headerlink" title="4、Broadcast Receiver面试题"></a>4、Broadcast Receiver面试题</h3><p>1、Broadcast Receiver是什么<br>Broadcast是四大组件之一，是一种广泛运用在应用程序之间传输信息的机制，通过发送Intent来传送我们的数据</p>
<p>2、Broadcast Receiver的使用场景<br>同一App具有多个进程的不同组件之间的消息通信<br>不同App之间的组件之间的消息通信</p>
<p>3、Broadcast Receiver的种类<br>普通广播<br>有序广播 Context.sendOrderedBroadcast<br>本地广播 LocalBroadcastManager.getInstance(context).sendBroadcast(intent) 除了能解决BroadcastReceiver进程间安全性问题外，相对Context操作的BroadcastReceiver而言还具有更高的运行效率。<br>Sticky广播 的sendStickyBroadcast(Intent)接口发送，需要添加权限<uses-permission android:name="android.permission.BROADCAST_STICKY"><br>也可以通过Context的removeStickyBroadcast(Intent intent)接口移除缓存的粘性广播。<br>sticky有序广播 StickyOrderedBroadcast</uses-permission></p>
<p>4、Broadcast Receiver的实现<br>静态注册：注册后一直运行，尽管Activity、进程、App被杀死还是可以接收到广播<br>动态注册：跟随Activity的生命周期</p>
<p>5、Broadcast Receiver实现机制<br>自定义广播类继承BroadcastReceiver，复写onReceiver()<br>通过Binder机制向AMS进行注册广播<br>广播发送者通过Binder机制向AMS发送广播<br>AMS查找符合相应条件的广播发送到BroadcastReceiver相应的循环队列中<br>消息队列执行拿到广播，回调BroadcastReceiver的onReceiver()</p>
<p>6、LocalBroadcastManager特点<br>本地广播只能在自身App内传播，不必担心泄漏隐私数据<br>本地广播不允许其他App对你的App发送该广播，不必担心安全漏洞被利用<br>本地广播比全局广播更高效<br>以上三点都是源于其内部是用Handler实现的</p>
<h3 id="5、WebView面试题"><a href="#5、WebView面试题" class="headerlink" title="5、WebView面试题"></a>5、WebView面试题</h3><p>1、WebView安全漏洞<br>API16之前存在远程代码执行安全漏洞，该漏洞源于程序没有正确限制使用WebView.addJavascriptInterface方法，远程攻击者可通过使用Java反射机制利用该漏洞执行任意Java对象的方法</p>
<p>2、WebView销毁步骤<br>WebView在其他容器上时（如：LinearLayout），当销毁Activity时，需要在onDestroy()中先移除容器上的WebView，然后再将WebView.destroy()，这样就不会导致内存泄漏</p>
<p>3、WebView的jsbridge<br>客户端和服务端之间可以通过Javascript来互相调用各自的方法</p>
<p>4、WebViewClient的onPageFinished<br>WebViewClient的onPageFinished在每次完成页面的时候调用，但是遇到未加载完成的页面跳转其他页面时，就会一直调用，使用WebChromeClient.onProgressChanged可以替代</p>
<p>5、WebView后台耗电<br>在WebView加载页面的时候，会自动开启线程去加载，如果不很好的关闭这些线程，就会导致电量消耗加大，可以采用暴力的方法，直接在onDestroy方法中System.exit(0)结束当前正在运行中的java虚拟机</p>
<p>6、WebView硬件加速<br>Android3.0引入硬件加速，默认会开启，WebView在硬件加速的情况下滑动更加平滑，性能更加好，但是会出现白块或者页面闪烁的副作用，建议WebView暂时关闭硬件加速</p>
<p>7、WebView内存泄漏<br>由于WebView是依附于Activity的，Activity的生命周期和WebView启动的线程的生命周期是不一致的，这会导致WebView一直持有对这个Activity的引用而无法释放，解决方案如下<br>独立进程，简单暴力，不过可能涉及到进程间通信（推荐）<br>动态添加WebView，对传入WebView中使用的Context使用弱引用</p>
<h3 id="6、Binder面试题"><a href="#6、Binder面试题" class="headerlink" title="6、Binder面试题"></a>6、Binder面试题</h3><p>1、Linux内核的基本知识</p>
<p><img src="/images/blogimages/2017/binder-01.png" alt=""><br>进程隔离/虚拟地址空间：进程间是不可以共享数据的，相当于被隔离，每个进程被分配到不同的虚拟地址中<br>系统调用：Linux内核对应用有访问权限，用户只能在应用层通过系统调用，调用内核的某些程序<br>binder驱动：它负责各个用户的进程，通过binder通信内核来进行交互的模块</p>
<p>而Binder，就是充当 连接 两个进程（内核空间）的通道。</p>
<p>2、为什么使用Binder<br>性能上，相比传统的Socket更加高效<br>安全性高，支持协议双方互相校验</p>
<p>3、Binder通信模型<br><img src="/images/blogimages/2017/binder-02.png" alt=""></p>
<blockquote>
<p>虚线表示并非直接交互</p>
</blockquote>
<p>说明1：Client进程、Server进程 &amp; Service Manager 进程之间的交互都必须通过Binder驱动（使用 open 和 ioctl文件操作函数），而非直接交互</p>
<p>原因：</p>
<ol>
<li>Client进程、Server进程 &amp; Service Manager进程属于进程空间的用户空间，不可进行进程间交互</li>
<li>Binder驱动 属于 进程空间的 内核空间，可进行进程间 &amp; 进程内交互</li>
</ol>
<p>说明2： Binder驱动 &amp; Service Manager进程 属于 Android基础架构（即系统已经实现好了）；而Client 进程 和 Server 进程 属于Android应用层（需要开发者自己实现）</p>
<p>所以，在进行跨进程通信时，开发者只需自定义Client &amp; Server 进程 并 显式使用上述3个步骤，最终借助 Android的基本架构功能就可完成进程间通信</p>
<p>详细参考这篇博客：<a href="http://blog.csdn.net/carson_ho/article/details/73560642" target="_blank" rel="noopener">图文详解 Android Binder 跨进程通信机制原理</a></p>
<p>对比 Linux （Android基于linux）上的其他进程通信方式（管道/消息队列/共享内存/信号量/Socket），Binder 机制的优点有：</p>
<ul>
<li>高效<br>Binder数据拷贝只需要一次，而管道、消息队列、Socket都需要2次<br>通过驱动在内核空间拷贝数据，不需要额外的同步处理</li>
<li>安全性高<br>Binder 机制为每个进程分配了 UID/PID 来作为鉴别身份的标示，并且在 Binder 通信时会根据 UID/PID 进行有效性检测<br>传统的进程通信方式对于通信双方的身份并没有做出严格的验证<br>如，Socket通信 ip地址是客户端手动填入，容易出现伪造</li>
<li>使用简单<br>采用Client/Server 架构<br>实现 面向对象 的调用方式，即在使用Binder时就和调用一个本地对象实例一样</li>
</ul>
<p>4、AIDL<br>客户端通过aidl文件的Stub.asInterface()方法，拿到Proxy代理类<br>通过调用Proxy代理类的方法，将参数进行封包后，调用底层的transact()方法<br>transact()方法会回调onTransact()方法，进行参数的解封<br>在onTransact()方法中调用服务端对应的方法，并将结果返回</p>
<h3 id="7、Handler面试题"><a href="#7、Handler面试题" class="headerlink" title="7、Handler面试题"></a>7、Handler面试题</h3><p>1、Handler是什么<br>Handler通过发送和处理Message和Runnable对象来关联相对应线程的MessageQueue</p>
<p>2、Handler使用方法<br>post(runnable)<br>sendMessage(message)</p>
<p>3、Handler工作原理<br><a href="http://blog.csdn.net/qq_30379689/article/details/53394061" target="_blank" rel="noopener">Android进阶——Android消息机制之Looper、Handler、MessageQueen</a></p>
<p>4、Handler引起的内存泄漏<br>原因：非静态内部类持有外部类的匿名引用，导致Activity无法释放<br>解决：<br>Handler内部持有外部Activity的弱引用<br>Handler改为静态内部类<br>Handler.removeCallback()</p>
<h3 id="8、AsyncTask面试题"><a href="#8、AsyncTask面试题" class="headerlink" title="8、AsyncTask面试题"></a>8、AsyncTask面试题</h3><p>1、AsyncTask是什么<br>它本质上就是一个封装了线程池和Handler的异步框架</p>
<p>2、AsyncTask使用方法<br>三个参数<br>Params：表示后台任务执行时的参数类型，该参数会传给AysncTask的 <strong>doInBackground()</strong> 方法<br>Progress：表示后台任务的执行进度的参数类型，该参数会作为 <strong>onProgressUpdate()</strong> 方法的参数<br>Result：表示后台任务的返回结果的参数类型，该参数会作为 <strong>onPostExecute()</strong> 方法的参数<br>五个方法<br>onPreExecute()：异步任务开启之前回调，在主线程中执行<br>doInBackground()：执行异步任务，在线程池中执行<br>onProgressUpdate()：当doInBackground中调用publishProgress时回调，在主线程中执行<br>onPostExecute()：在异步任务执行之后回调，在主线程中执行<br>onCancelled()：在异步任务被取消时回调</p>
<p>3、AsyncTask工作原理<br>Android进阶——多线程系列之异步任务AsyncTask的使用与源码分析<br><a href="http://blog.csdn.net/qq_30379689/article/details/53203556" target="_blank" rel="noopener">http://blog.csdn.net/qq_30379689/article/details/53203556</a></p>
<p>4、AsyncTask引起的内存泄漏<br>原因：非静态内部类持有外部类的匿名引用，导致Activity无法释放<br>解决：<br>AsyncTask内部持有外部Activity的弱引用<br>AsyncTask改为静态内部类<br>AsyncTask.cancel()</p>
<p>5、AsyncTask生命周期<br>在Activity销毁之前，取消AsyncTask的运行，以此来保证程序的稳定</p>
<p>6、AsyncTask结果丢失<br>由于屏幕旋转、Activity在内存紧张时被回收等情况下，Activity会被重新创建，此时，旧的AsyncTask持有旧的Activity引用，这个时候会导致AsyncTask的 <strong>onPostExecute()对UI更新无效</strong></p>
<p>7、AsyncTask并行or串行<br>AsyncTask在Android 2.3之前默认采用并行执行任务，AsyncTask在Android 2.3之后默认采用串行执行任务<br>如果需要在Android 2.3之后采用并行执行任务，可以调用AsyncTask的executeOnExecutor()</p>
<p>8、一个AsyncTask<strong>对象</strong>只能被执行一次，即只能调用一次execute，多次执行就报错。<br>同一个进程里所有用到 AsyncTask 的地方都是同一个线程池，导致任务缓存队列就容易满.<br>同一个进程里面所有AsyncTask对象都共享同一个SerialExecutor对象。</p>
<p>参考：<a href="https://blog.csdn.net/zhaoyangfang/article/details/76100607" target="_blank" rel="noopener">https://blog.csdn.net/zhaoyangfang/article/details/76100607</a></p>
<blockquote>
<p>在Android2.3中AsyncTask的调用可以并发执行.在一个线程池中被调用. 该线程池有5个核心线程.即一次可以并发执行5个任务<br>在Android3.0及其以后AsyncTask的调用在默认情况同时只能有1个任务在执行.<br>在AsyncTask中采用了SerialExecutor,线程池中只有一个线程的线程池但我们可以调用方法asyncTask.executeOnExecutor(executor, params);来设置自己的线程池实现并发。</p>
</blockquote>
<h3 id="9、HandlerThread面试题"><a href="#9、HandlerThread面试题" class="headerlink" title="9、HandlerThread面试题"></a>9、HandlerThread面试题</h3><p>1、HandlerThread产生背景<br>当系统有多个耗时任务需要执行时，每个任务都会开启一个新线程去执行耗时任务，这样会导致系统多次创建和销毁线程，从而影响性能。为了解决这一问题，Google提供了HandlerThread，HandlerThread是在线程中创建一个Looper循环器，让Looper轮询消息队列，当有耗时任务进入队列时，则不需要开启新线程，在原有的线程中执行耗时任务即可，否则线程阻塞</p>
<p>2、HanlderThread的特点、<br>HandlerThread本质上是一个线程，继承自Thread<br>HandlerThread有自己的Looper对象，可以进行Looper循环，可以创建Handler<br>HandlerThread可以在Handler的handlerMessage中执行异步方法<br>HandlerThread优点是异步不会堵塞，减少对性能的消耗<br>HandlerThread缺点是不能同时继续进行多任务处理，需要等待进行处理，处理效率较低<br>HandlerThread与线程池不同，HandlerThread是一个串行队列，背后只有一个线程。</p>
<h3 id="Looper、Handler、Message三者关系"><a href="#Looper、Handler、Message三者关系" class="headerlink" title="Looper、Handler、Message三者关系"></a>Looper、Handler、Message三者关系</h3><p>转载自<a href="http://blog.csdn.net/lmj623565791/article/details/38377229" target="_blank" rel="noopener">Android 异步消息处理机制 让你深入理解 Looper、Handler、Message三者关系</a></p>
<ul>
<li>1、首先Looper.prepare()在本线程中保存一个Looper实例，然后该实例中保存一个MessageQueue对象；因为Looper.prepare()在一个线程中只能调用一次，所以MessageQueue在一个线程中只会存在一个。</li>
<li>2、Looper.loop()会让当前线程进入一个无限循环，不端从MessageQueue的实例中读取消息，然后回调msg.target.dispatchMessage(msg)方法。</li>
<li>3、Handler的构造方法，会首先得到当前线程中保存的Looper实例，进而与Looper实例中的MessageQueue想关联。</li>
<li>4、Handler的sendMessage方法，会给msg的target赋值为handler自身，然后加入MessageQueue中。</li>
<li>5、在构造Handler实例时，我们会重写handleMessage方法，也就是msg.target.dispatchMessage(msg)最终调用的方法。</li>
</ul>
<p>好了，总结完成，大家可能还会问，那么在Activity中，我们并没有显示的调用Looper.prepare()和Looper.loop()方法，为啥Handler可以成功创建呢，这是因为在Activity的启动代码中，已经在当前UI线程调用了Looper.prepare()和Looper.loop()方法。</p>
<h3 id="10、IntentService面试题"><a href="#10、IntentService面试题" class="headerlink" title="10、IntentService面试题"></a>10、IntentService面试题</h3><p>1、IntentService是什么<br>IntentService是继承自Service并处理异步请求的一个类，其内部采用HandlerThread和Handler实现的，在IntentService内有一个工作线程来处理耗时操作，其优先级比普通Service高。当任务完成后，IntentService会自动停止，而不需要手动调用stopSelf()。另外，可以多次启动IntentService，每个耗时操作都会以工作队列的方式在IntentService中 <strong>onHandlerIntent()</strong> 回调方法中执行，并且每次只会执行一个工作线程</p>
<p>2、IntentService使用方法<br>创建Service继承自IntentService<br>覆写构造方法和onHandlerIntent()方法<br>在onHandlerIntent()中执行耗时操作</p>
<h3 id="11、视图工作机制面试题"><a href="#11、视图工作机制面试题" class="headerlink" title="11、视图工作机制面试题"></a>11、视图工作机制面试题</h3><p><a href="http://blog.csdn.net/qq_30379689/article/details/54588736" target="_blank" rel="noopener">Android进阶——Android视图工作机制之measure、layout、draw</a></p>
<p><a href="http://blog.csdn.net/qq_30379689/article/details/53967177" target="_blank" rel="noopener">Android事件分发机制之dispatchTouchEvent、onInterceptTouchEvent、onTouchEvent</a></p>
<h3 id="12、ListView面试题"><a href="#12、ListView面试题" class="headerlink" title="12、ListView面试题"></a>12、ListView面试题</h3><p>1、ListView是什么<br>ListView是能将一个数据集合以动态滚动的方式展示到用户界面上的View</p>
<p>2、ListView的RecycleBin机制</p>
<p><img src="/images/blogimages/2017/listview_recyclebin.png" alt=""></p>
<p>3、ListView的优化<br>重用convertView<br>使用ViewHolder<br>图片三级缓存<br>监听滑动事件<br>少用透明View<br>开启硬件加速</p>
<h3 id="13、Android项目构建面试题"><a href="#13、Android项目构建面试题" class="headerlink" title="13、Android项目构建面试题"></a>13、Android项目构建面试题</h3><p>1、android构建流程</p>
<p><img src="/images/blogimages/2017/android_build_process.png" alt=""></p>
<p>2、jenkins持续集成构建<br>这里可参考<a href="http://www.pgyer.com/doc/view/jenkins" target="_blank" rel="noopener">蒲公英文档</a></p>
<p>3、Git常用命令<br>git init：仓库的初始化<br>git status：查看当前仓库的状态<br>git diff：查看仓库与上次修改的内容<br>git add：将文件放进暂存区<br>git commit：提交代码<br>git clone：克隆代码<br>git bransh：查看当前分支<br>git checkout：切换当前分支</p>
<p>4、git工作流<br>fork/clone（主流）<br>fork：将别人的仓库代码fork到自己的仓库上<br>clone：克隆下自己仓库的代码<br>update、commit：修改代码并提交到自己的仓库<br>push：提交到自己的仓库<br>pull request：请求添加到别人的仓库<br>clone</p>
<p>5、proguard是什么<br>ProGuard工具是用于压缩、优化和混淆我们的代码，其主作用是移除或混淆代码中无用类、字段、方法和属性</p>
<p>6、proguard技术功能<br>压缩<br>优化<br>混淆<br>预检测</p>
<p>7、proguard工作原理<br>将无用的字段或方法存入到EntryPoint中，将非EntryPoint的字段和方法进行替换</p>
<p>8、为什么要混淆<br>由于Java是一门跨平台的解释性语言，其源代码被编译成class字节码来适应其他平台，而class文件包含了Java源代码信息，很容易被反编译</p>
<h3 id="14、ANR面试题"><a href="#14、ANR面试题" class="headerlink" title="14、ANR面试题"></a>14、ANR面试题</h3><p>1、什么是ANR<br>Application Not Responding，页面无响应的对话框</p>
<p>2、发生ANR的条件<br>应用程序的响应性是由ActivityManager和WindowManager系统服务监视的，当ANR发生条件满足时，就会弹出ANR的对话框<br>Activity超过5秒无响应<br>BroadcastReceiver超过10秒无响应<br>Service超过20秒无响应</p>
<p>3、造成ANR的主要原因<br>主线程被IO操作阻塞<br>Activity的所有生命周期回调都是执行在主线程的<br>Service默认执行在主线程中<br>BoardcastReceiver的回调onReceive()执行在主线程中<br>AsyncTask的回调除了doInBackground，其他都是在主线程中<br>没有使用子线程Looper的Handler的handlerMessage，post(Runnable)都是执行在主线程中</p>
<p>4、如何解决ANR<br>使用AsyncTask处理耗时IO操作<br>使用Thread或HandlerThread提供优先级<br>使用Handler处理工作线程的耗时操作<br>Activity的onCreate和onResume回调尽量避免耗时操作</p>
<h3 id="15、OOM面试题"><a href="#15、OOM面试题" class="headerlink" title="15、OOM面试题"></a>15、OOM面试题</h3><p>1、什么是OOM<br>OOM指Out of memory（内存溢出），当前占用内存加上我们申请的内存资源超过了Dalvik虚拟机的最大内存限制就会抛出Out of memory异常</p>
<p>2、OOM相关概念<br>内存溢出：指程序在申请内存时，没有足够的空间供其使用<br>内存泄漏：指程序分配出去的内存不再使用，无法进行回收<br>内存抖动：指程序短时间内大量创建对象，然后回收的现象</p>
<p>3、解决OOM<br>Bitmap相关<br>图片压缩<br>加载缩略图<br>在滚动时不加载图片<br>回收Bitmap<br>使用inBitmap属性<br>捕获异常<br>其他相关<br>listview重用convertView、使用LruCache<br>避免onDraw方法执行对象的创建<br>谨慎使用多进程</p>
<h3 id="16、Bitmap面试题"><a href="#16、Bitmap面试题" class="headerlink" title="16、Bitmap面试题"></a>16、Bitmap面试题</h3><p>1、recycle<br>在安卓3.0以前Bitmap是存放在堆中的，我们只要回收堆内存即可<br>在安卓3.0以后Bitmap是存放在内存中的，我们需要回收native层和Java层的内存<br>官方建议我们3.0以后使用recycle方法进行回收，该方法也可以不主动调用，因为垃圾回收器会自动收集不可用的Bitmap对象进行回收<br>recycle方法会判断Bitmap在不可用的情况下，将发送指令到垃圾回收器，让其回收native层和Java层的内存，则Bitmap进入dead状态<br>recycle方法是不可逆的，如果再次调用getPixels()等方法，则获取不到想要的结果</p>
<p>2、LruCache原理<br>LruCache是个泛型类，内部采用LinkedHashMap来实现缓存机制，它提供get方法和put方法来获取缓存和添加缓存，其最重要的方法trimToSize是用来移除最少使用的缓存和使用最久的缓存，并添加最新的缓存到队列中</p>
<p>3、计算inSampleSize<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">calculateInSampleSize</span><span class="params">(BitmapFactory.Options options, <span class="keyword">int</span> reqWidth, <span class="keyword">int</span> reqHeight)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> height = options.outHeight;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> width = options.outWidth;</span><br><span class="line">    <span class="keyword">int</span> inSampleSize = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (height &gt; reqHeight || width &gt; reqWidth) &#123;</span><br><span class="line">        <span class="keyword">if</span> (width &gt; height) &#123;</span><br><span class="line">            inSampleSize = Math.round((<span class="keyword">float</span>)height / (<span class="keyword">float</span>)reqHeight);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            inSampleSize = Math.round((<span class="keyword">float</span>)width / (<span class="keyword">float</span>)reqWidth);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> inSampleSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>4、缩略图<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bitmap <span class="title">thumbnail</span><span class="params">(String path,<span class="keyword">int</span> maxWidth, <span class="keyword">int</span> maxHeight, <span class="keyword">boolean</span> autoRotate)</span> </span>&#123;</span><br><span class="line">    BitmapFactory.Options options = <span class="keyword">new</span> BitmapFactory.Options();</span><br><span class="line">    options.inJustDecodeBounds = <span class="keyword">true</span>;</span><br><span class="line">    Bitmap bitmap = BitmapFactory.decodeFile(path, options);</span><br><span class="line">    options.inJustDecodeBounds = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span> sampleSize = calculateInSampleSize(options, maxWidth, maxHeight);</span><br><span class="line">    options.inSampleSize = sampleSize;</span><br><span class="line">    options.inPreferredConfig = Bitmap.Config.RGB_565;</span><br><span class="line">    options.inPurgeable = <span class="keyword">true</span>;</span><br><span class="line">    options.inInputShareable = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (bitmap != <span class="keyword">null</span> &amp;&amp; !bitmap.isRecycled()) &#123;</span><br><span class="line">        bitmap.recycle();</span><br><span class="line">    &#125;</span><br><span class="line">    bitmap = BitmapFactory.decodeFile(path, options);</span><br><span class="line">    <span class="keyword">return</span> bitmap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>5、保存Bitmap<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">save</span><span class="params">(Bitmap bitmap,Bitmap.CompressFormat format, <span class="keyword">int</span> quality, File destFile)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        FileOutputStream out = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line">        <span class="keyword">if</span> (bitmap.compress(format, quality, out)) &#123;</span><br><span class="line">            out.flush();</span><br><span class="line">            out.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (bitmap != <span class="keyword">null</span> &amp;&amp; !bitmap.isRecycled()) &#123;</span><br><span class="line">            bitmap.recycle();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> destFile.getAbsolutePath();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>6、保存到SD卡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">save</span><span class="params">(Bitmap bitmap,Bitmap.CompressFormat format, <span class="keyword">int</span> quality, Context context)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!Environment.getExternalStorageState()</span><br><span class="line">            .equals(Environment.MEDIA_MOUNTED)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    File dir = <span class="keyword">new</span> File(Environment.getExternalStorageDirectory()</span><br><span class="line">            + <span class="string">"/"</span> + context.getPackageName() + <span class="string">"/save/"</span>);</span><br><span class="line">    <span class="keyword">if</span> (!dir.exists()) &#123;</span><br><span class="line">        dir.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line">    File destFile = <span class="keyword">new</span> File(dir, UUID.randomUUID().toString());</span><br><span class="line">    <span class="keyword">return</span> save(bitmap, format, quality, destFile);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>7、三级缓存<br>网络缓存<br>本地缓存<br>内存缓存</p>
<h3 id="17、UI卡顿面试题"><a href="#17、UI卡顿面试题" class="headerlink" title="17、UI卡顿面试题"></a>17、UI卡顿面试题</h3><p>1、UI卡顿原理<br>View的绘制帧数保持60fps是最佳，这要求每帧的绘制时间不超过16ms（1000/60），如果安卓不能在16ms内完成界面的渲染，那么就会出现卡顿现象</p>
<p>2、UI卡顿的原因分析<br>在UI线程中做轻微的耗时操作，导致UI线程卡顿<br>布局Layout过于复杂，无法在16ms内完成渲染<br>同一时间动画执行的次数过多，导致CPU和GPU负载过重<br>overDraw，导致像素在同一帧的时间内被绘制多次，使CPU和GPU负载过重<br>View频繁的触发measure、layout，导致measure、layout累计耗时过多和整个View频繁的重新渲染<br>频繁的触发GC操作导致线程暂停，会使得安卓系统在16ms内无法完成绘制<br>冗余资源及逻辑等导致加载和执行缓慢<br>ANR</p>
<p>3、UI卡顿的优化<br>布局优化<br>使用include、ViewStub、merge<br>不要出现过于嵌套和冗余的布局<br>使用自定义View取代复杂的View<br>ListView优化<br>复用convertView<br>滑动不加载<br>背景和图片优化<br>缩略图<br>图片压缩<br>避免ANR<br>不要在UI线程中做耗时操作</p>
<h3 id="18、内存泄漏面试题"><a href="#18、内存泄漏面试题" class="headerlink" title="18、内存泄漏面试题"></a>18、内存泄漏面试题</h3><p>1、Java内存泄漏引起的主要原因<br>长生命周期的对象持有短生命周期对象的引用就很可能发生内存泄漏</p>
<p>2、Java内存分配策略<br>静态存储区：又称方法区，主要存储全局变量和静态变量，在整个程序运行期间都存在<br>栈区：方法体的局部变量会在栈区创建空间，并在方法执行结束后会自动释放变量的空间和内存<br>堆区：保存动态产生的数据，如：new出来的对象和数组，在不使用的时候由Java回收器自动回收</p>
<p>3、Android解决内存泄漏的例子<br>单例造成的内存泄漏：在单例中，使用context.getApplicationContext()作为单例的context<br>匿名内部类造成的内存泄漏：由于非静态内部类持有匿名外部类的引用，必须将内部类设置为static<br>Handler造成的内存泄漏：使用static的Handler内部类，同时在实现内部类中持有Context的弱引用<br>避免使用static变量：由于static变量会跟Activity生命周期一致，当Activity退出后台被后台回收时，static变量是不安全，所以也要管理好static变量的生命周期<br>资源未关闭造成的内存泄漏：比如Socket、Broadcast、Cursor、Bitmap、ListView等，使用完后要关闭<br>AsyncTask造成的内存泄漏：由于非静态内部类持有匿名内部类的引用而造成内存泄漏，可以通过AsyncTask内部持有外部Activity的弱引用同时改为静态内部类或在onDestroy()中执行AsyncTask.cancel()进行修复</p>
<blockquote>
<p>非静态内部类和非静态匿名内部类中确实都持有外部类的引用， 静态内部类中未持有外部类的引用</p>
</blockquote>
<h3 id="19、内存管理面试题"><a href="#19、内存管理面试题" class="headerlink" title="19、内存管理面试题"></a>19、内存管理面试题</h3><p>1、Android内存管理机制<br>分配机制<br>管理机制</p>
<p>2、内存管理机制的特点<br>更少的占用内存<br>在合适的时候，合理的释放系统资源<br>在系统内存紧张的时候，能释放掉大部分不重要的资源<br>能合理的在特殊生命周期中，保存或还原重要数据</p>
<p>3、内存优化方法<br>Service完成任务后应停止它，或用IntentService（因为可以自动停止服务）代替Service<br>在UI不可见的时候，释放其UI资源<br>在系统内存紧张的时候，尽可能多的释放非重要资源<br>避免滥用Bitmap导致内存浪费<br>避免使用依赖注入框架<br>使用针对内存优化过的数据容器<br>使用ZIP对齐的APK<br>使用多进程</p>
<h3 id="20、冷启动和热启动面试题"><a href="#20、冷启动和热启动面试题" class="headerlink" title="20、冷启动和热启动面试题"></a>20、冷启动和热启动面试题</h3><p>1、什么是冷启动和热启动<br>冷启动：在启动应用前，系统中没有该应用的任何进程信息<br>热启动：在启动应用时，在已有的进程上启动应用（用户使用返回键退出应用，然后马上又重新启动应用）</p>
<p>2、冷启动和热启动的区别<br>冷启动：创建Application后再创建和初始化MainActivity<br>热启动：创建和初始化MainActivity即可</p>
<p>3、冷启动时间的计算<br>这个时间值从应用启动（创建进程）开始计算，到完成视图的第一次绘制为止</p>
<p>4、冷启动流程<br>Zygote进程中fork创建出一个新的进程<br>创建和初始化Application类、创建MainActivity<br>inflate布局、当onCreate/onStart/onResume方法都走完<br>contentView的measure/layout/draw显示在界面上<br>总结：Application构造方法-&gt;attachBaseContext()-&gt;onCreate()-&gt;Activity构造方法-&gt;onCreate()-&gt;配置主题中背景等属性-&gt;onStart()-&gt;onResume()-&gt;测量布局绘制显示在界面上</p>
<p>5、冷启动优化<br>减少第一个界面onCreate()方法的工作量<br>不要让Application参与业务的操作<br>不要在Application进行耗时操作<br>不要以静态变量的方式在Application中保存数据<br>减少布局的复杂性和深度<br>不要在mainThread中加载资源<br>通过懒加载方式初始化第三方SDK</p>
<h3 id="21、其他优化面试题"><a href="#21、其他优化面试题" class="headerlink" title="21、其他优化面试题"></a>21、其他优化面试题</h3><p>1、Android不用静态变量存储数据<br>静态变量等数据由于进程已经被杀死而被初始化<br>使用其他数据传输方式：文件/sp/contentProvider</p>
<p>2、SharePreference安全问题<br>不能跨进程同步<br>文件不宜过大</p>
<p>3、内存对象序列化<br>Serializeble：是java的序列化方式，Serializeble在序列化的时候会产生大量的临时对象，从而引起频繁的GC<br>Parcelable：是Android的序列化方式，且性能比Serializeble高，Parcelable不能使用在要将数据存储在硬盘上的情况</p>
<p>4、避免在UI线程中做繁重的操作</p>
<h3 id="22、架构模式面试题"><a href="#22、架构模式面试题" class="headerlink" title="22、架构模式面试题"></a>22、架构模式面试题</h3><p>Android基础——框架模式MVC在安卓中的实践<br><a href="http://blog.csdn.net/qq_30379689/article/details/52909656" target="_blank" rel="noopener">http://blog.csdn.net/qq_30379689/article/details/52909656</a><br>Android基础——框架模式MVP在安卓中的实践<br><a href="http://blog.csdn.net/qq_30379689/article/details/52910567" target="_blank" rel="noopener">http://blog.csdn.net/qq_30379689/article/details/52910567</a><br>Android基础——框架模式MVVM之DataBinding的实践<br><a href="http://blog.csdn.net/qq_30379689/article/details/53037430" target="_blank" rel="noopener">http://blog.csdn.net/qq_30379689/article/details/53037430</a></p>
<p>Android App的设计架构：MVC,MVP,MVVM与架构经验谈<br><a href="https://www.tianmaying.com/tutorial/AndroidMVC" target="_blank" rel="noopener">https://www.tianmaying.com/tutorial/AndroidMVC</a></p>
<h3 id="23、插件化面试题"><a href="#23、插件化面试题" class="headerlink" title="23、插件化面试题"></a>23、插件化面试题</h3><p>1、插件化解决的问题<br>动态加载APK（反射、类加载器）<br>资源加载（反射、AssetManager、独立资源、分段资源）<br>代码加载（反射获取生命周期）</p>
<p>2、类加载器（Java中字节码添加到虚拟机中）<br>DexClassLoader：能够加载未安装的jar/apk/dex，主要用于动态加载和代码热更新<br>PathClassLoader：只能加载系统中已经安装过的apk</p>
<h3 id="24、热更新面试题"><a href="#24、热更新面试题" class="headerlink" title="24、热更新面试题"></a>24、热更新面试题</h3><p>1、热更新主要流程<br>线上检查到Crash<br>拉出Bugfix分支修复Crash问题<br>jenkins构建和补丁生成<br>app通过推送或主动拉取补丁文件<br>将Bugfix代码合到master上</p>
<p>2、热更新主流框架<br>Dexposed<br>AndFix<br>Nuwa<br>Tinker</p>
<p>3、热更新的原理<br>在ClassLoader创建一个dexElements数组<br>将修复好的dex文件存放在dexElements数组的最前面<br>ClassLoader会遍历dexElements数组，找到最前面的dex文件优先加载</p>
<h3 id="25、进程保活面试题"><a href="#25、进程保活面试题" class="headerlink" title="25、进程保活面试题"></a>25、进程保活面试题</h3><p>1、进程的优先级<br>空进程<br>后台进程<br>服务进程<br>可见进程<br>前台进程</p>
<p>2、Android进程回收策略<br>Low memory Killer（定时执行）：通过一些比较复杂的评分机制，对进程进行打分，然后将分数高的进程判定为bad进程，杀死并释放内存<br>OOM_ODJ：判别进程的优先级</p>
<p>3、Android保活方案<br>利用系统广播拉活<br>利用系统Service机制拉活<br>利用Native进程拉活<br>利用JobScheduler机制拉活<br>利用账号同步机制拉活</p>
<h3 id="26、Lint面试题"><a href="#26、Lint面试题" class="headerlink" title="26、Lint面试题"></a>26、Lint面试题</h3><p>1、什么是Android Lint<br>Android Lint是一个静态代码分析工具，它能够对你的Android项目中潜在的Bug、可优化的代码、安全性、性能、可用性、可访问性、国际化等进行检查</p>
<p>2、Lint工作流程<br><img src="/images/blogimages/2017/android_lint.png" alt=""></p>
<p>3、配置Lint<br>创建Lint.xml到根目录下，自定义Lint安全等级等<br>在Java文件中可以使用@suppressLint(“NewApi”)来忽视Lint的报错<br>在xml文件中可以使用tool:ignore(“UnusedResources”)来忽视Lint的报错<br>自定义Lint检查，可以创建类，继承Detector和实现JavaPsiScanner</p>
<h3 id="27、Kotlin面试题"><a href="#27、Kotlin面试题" class="headerlink" title="27、Kotlin面试题"></a>27、Kotlin面试题</h3><p>1、什么是Kotlin<br>Kotlin是一种基于JVM的编程语言<br>对Java的一种拓展，比Java更简洁<br>Kotlin支持函数式编程<br>Kotlin类和Java类可以相互调用</p>
<p>2、Kotlin环境搭建<br>直接在Plugin中下载Kotlin插件即可<br>系统会自动配置到Kotlin环境</p>
<hr>
<div style="width:690.45px"><div style="display:inline-block;width:110px"><a rel="noopener" href="http://creativecommons.org/licenses/by/2.5/cn/" target="_blank"><img style="border-width:0" src="http://blog.conorlee.top/blogimages/attribution_88x31.png"></a></div><div style="display:inline-block;width:580px;"><br>    本文采用<a rel="noopener" href="http://creativecommons.org/licenses/by/2.5/cn/" target="_blank">知识共享署名 2.5 中国大陆许可协议</a>进行许可，欢迎转载，但转载请注明来自<a href="http://conorlee.top/" target="_blank" rel="noopener">Agehua’s Blog</a>，并保持转载后文章内容的完整。本人保留所有版权相关权利。</div></div>

<p>本文链接：<a href="http://agehua.github.io/2017/08/17/IntervieweeQuestions/">http://agehua.github.io/2017/08/17/IntervieweeQuestions/</a></p>
</fragment>

            
  <!-- donate css -->
  <style type="text/css">
      .center {
          text-align: center;
      }
      .hidden {
          display: none;
      }
         
    .donate_bar a.btn_donate{
      display: inline-block;
      width: 82px;
      height: 82px;
      background: url("http://cdn.conorlee.top/btn_reward.gif") no-repeat;
      _background: url("http://cdn.conorlee.top/btn_reward.gif") no-repeat;
      -webkit-transition: background 0s;
      -moz-transition: background 0s;
      -o-transition: background 0s;
      -ms-transition: background 0s;
      transition: background 0s;

    }

    .donate_bar a.btn_donate:hover{ background-position: 0px -82px;}
    .donate_bar .donate_txt {
      display: block;
      color: #9d9d9d;
      font: 14px/2 "Microsoft Yahei";
    }
    .bold{ font-weight: bold; }
  </style>
  <!-- /css -->

<!-- Donate Module -->
<div id="donate_module">

  <!-- btn_donate & tips -->
  <div id="donate_board" class="donate_bar center">
      <br>
      ------------------------------------------------------------------------------------------------------------------------------
      <br>
    <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
    <span class="donate_txt">
      Enjoy it ? Donate me !  欣赏此文？求鼓励，求支持！
    </span>


  </div>
  <!-- /btn_donate & tips -->

  <!-- donate guide -->

  <div id="donate_guide" class="donate_bar center hidden" >
        <br>
      ------------------------------------------------------------------------------------------------------------------------------
      <br>
      <div class="donate_wechat" style="background:#9d9d9d;display:inline;margin:auto; " >
        <a href="http://cdn.conorlee.top/weixin_charge.png" title="用微信扫一扫哦~" class="fancybox" rel="article0">
          <img src="http://cdn.conorlee.top/weixin_charge.png" title="微信打赏 Colin" height="auto" width="50%"
          style="float:left;"/>
        </a>
        <a href="http://cdn.conorlee.top/zhifubao_charge.png" title="用支付宝扫一扫即可~" class="fancybox" rel="article0">
          <img src="http://cdn.conorlee.top/zhifubao_charge.png" title="支付宝打赏 Colin" height="auto" width="50%"
          style="float:left;"/>
        </a>
      </div>
      <div style="display:inline-block;">
          &nbsp;
          <span class="donate_txt">
              Enjoy it ? Donate me !  欣赏此文？求鼓励，求支持！
          </span>
      </div>

  </div>
  <!-- /donate guide -->

  <!-- donate script -->
  <script type="text/javascript">
    document.getElementById('btn_donate').onclick = function() {
      $('#donate_board').addClass('hidden');
      $('#donate_guide').removeClass('hidden');
    }

    function donate_on_web(){
      $('#donate').submit();
        }

    var original_window_onload = window.onload;
        window.onload = function () {
            if (original_window_onload) {
                original_window_onload();
            }
            document.getElementById('donate_board_wdg').className='hidden';
    }
  </script>
  <!-- /donate script -->
</div>
<!-- /Donate Module -->

            
        
        </div>

        <footer class="article-footer">
          

          

          <div class="share-container">



</div>

    <a data-url="http://agehua.github.io/2017/08/17/IntervieweeQuestions/" data-id="ckescqscs003xuxvdl8jbiedm" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

          
    
        <a href="http://agehua.github.io/2017/08/17/IntervieweeQuestions/#comments" class="article-comment-link">Comments</a>
    


        </footer>

    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/09/12/PBOCKonwledge/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    PBOC知识收集
                
            </div>
        </a>
    
    
        <a href="/2017/08/02/activity-start-process/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">Activity启动流程分析</div>
        </a>
    
</nav>


    
    <script>
        pangu.spacingPage();
    </script>


    
    <section id="comments" class="comments">
    
        
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  id: '2017/08/17/IntervieweeQuestions/', // 可选。默认为 location.href
  title: 'Android面试题积累',
  owner: 'agehua',
  repo: 'agehua.me',
  oauth: {
    client_id: '08e030c9191b13da9adb' , //'你的 client ID'
    client_secret: 'bddb8106ceb73823fe1a6f7ab8d1b91957715d5e', //'你的 client secret'
  },
})
gitment.render('comments')
</script>

    
  </section>



</article>


</section>
            
                <aside id="sidebar">
    <!-- 在_config.yml中配置了widgets，来决定widgets的顺序 -->
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/09/07/Kotlin-DSL/" class="thumbnail">
    
    
        <span style="background-image:url(http://cdn.conorlee.top/Fish-Drying%20Barn%2C%20Seen%20From%20a%20Height.jpg)" alt="Kotlin DSL 语法糖" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/accumulation/">accumulation</a></p>
                            <p class="item-title"><a href="/2020/09/07/Kotlin-DSL/" class="title">Kotlin DSL 语法糖</a></p>
                            <p class="item-date"><time datetime="2020-09-06T16:00:00.000Z" itemprop="datePublished">2020-09-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/08/31/JVM-stack-and_heap/" class="thumbnail">
    
    
        <span style="background-image:url(http://cdn.conorlee.top/First%20Steps%20after%20Millet.jpg)" alt="JVM 堆和栈知识点积累" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/accumulation/">accumulation</a></p>
                            <p class="item-title"><a href="/2020/08/31/JVM-stack-and_heap/" class="title">JVM 堆和栈知识点积累</a></p>
                            <p class="item-date"><time datetime="2020-08-30T16:00:00.000Z" itemprop="datePublished">2020-08-31</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/07/10/profile_analysis/" class="thumbnail">
    
    
        <span style="background-image:url(http://cdn.conorlee.top/Field%20with%20Wheat%20Stacks.jpg)" alt="Android Studio CPU Profiler使用" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/accumulation/">accumulation</a></p>
                            <p class="item-title"><a href="/2020/07/10/profile_analysis/" class="title">Android Studio CPU Profiler使用</a></p>
                            <p class="item-date"><time datetime="2020-07-09T16:00:00.000Z" itemprop="datePublished">2020-07-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2020/05/26/download-function-analysis/" class="thumbnail">
    
    
        <span style="background-image:url(http://cdn.conorlee.top/Field%20with%20Two%20Rabbits.jpg)" alt="分析下载功能源码和实现" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/accumulation/">accumulation</a></p>
                            <p class="item-title"><a href="/2020/05/26/download-function-analysis/" class="title">分析下载功能源码和实现</a></p>
                            <p class="item-date"><time datetime="2020-05-25T16:00:00.000Z" itemprop="datePublished">2020-05-26</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2019/12/09/Android-Measure/" class="thumbnail">
    
    
        <span style="background-image:url(http://cdn.conorlee.top/Field%20with%20Stacks%20of%20Wheat.jpg)" alt="从FrameLayout分析View测量原理" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/accumulation/">accumulation</a></p>
                            <p class="item-title"><a href="/2019/12/09/Android-Measure/" class="title">从FrameLayout分析View测量原理</a></p>
                            <p class="item-date"><time datetime="2019-12-08T16:00:00.000Z" itemprop="datePublished">2019-12-09</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/investigation/">Investigation</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">Java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mac/">Mac</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/accumulation/">accumulation</a><span class="category-list-count">61</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/english/">english</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/read/">read</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/technology/">technology</a><span class="category-list-count">5</span></li></ul>
        </div>
    </div>


    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/aac/" style="font-size: 10px;">AAC</a> <a href="/tags/aes/" style="font-size: 10px;">AES</a> <a href="/tags/aidl/" style="font-size: 12px;">AIDL</a> <a href="/tags/ams/" style="font-size: 10px;">AMS</a> <a href="/tags/android/" style="font-size: 20px;">ANDROID</a> <a href="/tags/aosp/" style="font-size: 12px;">AOSP</a> <a href="/tags/alfred-workflow/" style="font-size: 10px;">Alfred Workflow</a> <a href="/tags/android-app-bundles/" style="font-size: 10px;">Android APP Bundles</a> <a href="/tags/android-framework/" style="font-size: 10px;">Android Framework</a> <a href="/tags/android-system-service/" style="font-size: 10px;">Android system service</a> <a href="/tags/annotation/" style="font-size: 12px;">Annotation</a> <a href="/tags/asynctask/" style="font-size: 10px;">AsyncTask</a> <a href="/tags/audiorecord/" style="font-size: 10px;">AudioRecord</a> <a href="/tags/basic-knowledge/" style="font-size: 18px;">Basic Knowledge</a> <a href="/tags/binder/" style="font-size: 16px;">Binder</a> <a href="/tags/cmd/" style="font-size: 10px;">CMD</a> <a href="/tags/coordinatorlayout/" style="font-size: 10px;">CoordinatorLayout</a> <a href="/tags/eit/" style="font-size: 10px;">EIT</a> <a href="/tags/ejs/" style="font-size: 10px;">EJS</a> <a href="/tags/electron/" style="font-size: 10px;">Electron</a> <a href="/tags/framelayout/" style="font-size: 10px;">FrameLayout</a> <a href="/tags/gc/" style="font-size: 10px;">GC</a> <a href="/tags/gcm/" style="font-size: 10px;">GCM</a> <a href="/tags/hook/" style="font-size: 10px;">HOOK</a> <a href="/tags/https/" style="font-size: 10px;">HTTPS</a> <a href="/tags/handler/" style="font-size: 10px;">Handler</a> <a href="/tags/handlerthread/" style="font-size: 10px;">HandlerThread</a> <a href="/tags/hexo/" style="font-size: 14px;">Hexo</a> <a href="/tags/hexo-structure/" style="font-size: 10px;">Hexo structure</a> <a href="/tags/im-company/" style="font-size: 10px;">IM Company</a> <a href="/tags/intentservice/" style="font-size: 10px;">IntentService</a> <a href="/tags/interview-knowledge/" style="font-size: 16px;">Interview Knowledge</a> <a href="/tags/jni/" style="font-size: 14px;">JNI</a> <a href="/tags/jvm/" style="font-size: 12px;">JVM</a> <a href="/tags/java/" style="font-size: 16px;">Java</a> <a href="/tags/javascript/" style="font-size: 12px;">JavaScript</a> <a href="/tags/kotlin/" style="font-size: 10px;">Kotlin</a> <a href="/tags/leakcanary/" style="font-size: 10px;">LeakCanary</a> <a href="/tags/locationlistener/" style="font-size: 10px;">LocationListener</a> <a href="/tags/looper/" style="font-size: 12px;">Looper</a> <a href="/tags/measure/" style="font-size: 10px;">Measure</a> <a href="/tags/memory-leaks/" style="font-size: 10px;">Memory leaks</a> <a href="/tags/messagequeue/" style="font-size: 10px;">MessageQueue</a> <a href="/tags/object-oriented/" style="font-size: 10px;">Object-oriented</a> <a href="/tags/open-souces/" style="font-size: 10px;">Open souces</a> <a href="/tags/pboc/" style="font-size: 12px;">PBOC</a> <a href="/tags/pboc-2-0/" style="font-size: 12px;">PBOC 2.0</a> <a href="/tags/patch-update/" style="font-size: 10px;">Patch Update</a> <a href="/tags/profiler/" style="font-size: 10px;">Profiler</a> <a href="/tags/python/" style="font-size: 10px;">Python</a> <a href="/tags/recyclerview/" style="font-size: 14px;">RecyclerView</a> <a href="/tags/relativelayout/" style="font-size: 10px;">RelativeLayout</a> <a href="/tags/rxandroid/" style="font-size: 10px;">RxAndroid</a> <a href="/tags/rxjava/" style="font-size: 10px;">RxJava</a> <a href="/tags/singleton/" style="font-size: 10px;">Singleton</a> <a href="/tags/tcp/" style="font-size: 10px;">TCP</a> <a href="/tags/threadlocal/" style="font-size: 12px;">ThreadLocal</a> <a href="/tags/timertask/" style="font-size: 10px;">TimerTask</a> <a href="/tags/android-source-code/" style="font-size: 10px;">android source code</a> <a href="/tags/assertion/" style="font-size: 10px;">assertion</a> <a href="/tags/azure/" style="font-size: 10px;">azure</a> <a href="/tags/bits-operation/" style="font-size: 10px;">bits operation</a> <a href="/tags/byte/" style="font-size: 10px;">byte[]</a> <a href="/tags/download/" style="font-size: 10px;">download</a> <a href="/tags/exitapplication/" style="font-size: 10px;">exitApplication</a> <a href="/tags/genericity/" style="font-size: 12px;">genericity</a> <a href="/tags/google-map/" style="font-size: 10px;">google map</a> <a href="/tags/gradle/" style="font-size: 12px;">gradle</a> <a href="/tags/gson/" style="font-size: 10px;">gson</a> <a href="/tags/handler/" style="font-size: 10px;">handler</a> <a href="/tags/iterm/" style="font-size: 10px;">iterm</a> <a href="/tags/linux/" style="font-size: 12px;">linux</a> <a href="/tags/multi-process/" style="font-size: 10px;">multi-process</a> <a href="/tags/multi-thread/" style="font-size: 10px;">multi-thread</a> <a href="/tags/net-request/" style="font-size: 10px;">net request</a> <a href="/tags/new-features/" style="font-size: 10px;">new features</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/notification/" style="font-size: 10px;">notification</a> <a href="/tags/publickey/" style="font-size: 10px;">publickey</a> <a href="/tags/qiniu/" style="font-size: 10px;">qiniu</a> <a href="/tags/read/" style="font-size: 12px;">read</a> <a href="/tags/reading/" style="font-size: 10px;">reading</a> <a href="/tags/remove-admob/" style="font-size: 10px;">remove admob</a> <a href="/tags/scp/" style="font-size: 10px;">scp</a> <a href="/tags/sdk-compile/" style="font-size: 10px;">sdk compile</a> <a href="/tags/self-introduction/" style="font-size: 10px;">self-introduction</a> <a href="/tags/svn-server/" style="font-size: 10px;">svn server</a> <a href="/tags/third-party-signin/" style="font-size: 10px;">third-party signin</a> <a href="/tags/toastmaster/" style="font-size: 14px;">toastmaster</a> <a href="/tags/webview/" style="font-size: 10px;">webview</a>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
                    <li>
                        <a href="http://conorlee.top">我的阿里云博客(没钱续费)</a>
                    </li>
                
                    <li>
                        <a href="https://agehua.github.io/">My Github Pages</a>
                    </li>
                
                    <li>
                        <a href="http://invitation.conorlee.top/MrLiAndTeacherTian_WeddingInvitation.html">Wedding Invitation(手机观看最佳)</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2020 Jixin Li<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  id: '2017/08/17/IntervieweeQuestions/', // 可选。默认为 location.href
  title: 'Android面试题积累',
  owner: 'agehua',
  repo: 'agehua.me',
  oauth: {
    client_id: '08e030c9191b13da9adb' , //'你的 client ID'
    client_secret: 'bddb8106ceb73823fe1a6f7ab8d1b91957715d5e', //'你的 client secret'
  },
})
gitment.render('comments')
</script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

<script>
    var bigfa_scroll = {
        drawCircle: function(id, percentage, color) {
            var width = jQuery(id).width();
            var height = jQuery(id).height();
            var radius = parseInt(width / 2.20);
            var position = width;
            var positionBy2 = position / 2;
            var bg = jQuery(id)[0];
            id = id.split("# ");
            var ctx = bg.getContext("2d");
            var imd = null;
            var circ = Math.PI * 2;
            var quart = Math.PI / 2;
            ctx.clearRect(0, 0, width, height);
            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineCap = "square";
            ctx.closePath();
            ctx.fill();
            ctx.lineWidth = 3;
            imd = ctx.getImageData(0, 0, position, position);
            var draw = function(current, ctxPass) {
                ctxPass.putImageData(imd, 0, 0);
                ctxPass.beginPath();
                ctxPass.arc(positionBy2, positionBy2, radius, -(quart), ((circ) * current) - quart, false);
                ctxPass.stroke();
            }
            draw(percentage / 100, ctx);
        },
        backToTop: function($this) {
            $this.click(function() {
                jQuery("body,html").animate({
                    scrollTop: 0
                },
                800);
                return false;
            });
        },
        scrollHook: function($this, color) {
            color = color ? color: "# 000000";
            $this.scroll(function() {
                var docHeight = (jQuery(document).height() - jQuery(window).height()),
                $windowObj = $this,
                $per = jQuery(".per"),
                percentage = 0;
                defaultScroll = $windowObj.scrollTop();
                percentage = parseInt((defaultScroll / docHeight) * 100);
                var backToTop = jQuery("# backtoTop");
                if (backToTop.length > 0) {
                    if ($windowObj.scrollTop() > 200) {
                        backToTop.addClass("button--show");
                    } else {
                        backToTop.removeClass("button--show");
                    }
                    $per.attr("data-percent", percentage);
                    bigfa_scroll.drawCircle("# backtoTopCanvas", percentage, color);
                }
            });
        }
    }

</script>


    </div>
    <!-- <script src="http://cdn.maxjia.com/js/particles.min.js"></script> -->
  
  
    <canvas class="fireworks" style="position: fixed; left: 0px; top: 0px; z-index: 1; pointer-events: none; width: 1440px; height: 416px;" width="2880" height="832"></canvas>
    
    
      <script type="text/javascript" src="/js/anime.min.js"></script>
      <script type="text/javascript" src="/js/firework.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/33.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"left","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
